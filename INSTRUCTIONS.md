### REQUIREMENTS
- üíª OS: linux-based (prefered)
- üê≥ Docker: `docker --version` should not give errors.
- üì¶ Poetry: in ubuntu i just did `sudo apt install python3-poetry`
- üêç Python + `pip install biocypher`: if you want local testings before running the dockers

### DOCKER
- Run the pipeline. This will pull images (first time), create containers 'build', 'import', 'deploy' + a volume and run them sequentially. Only 'deploy' remains up and running.
    ```bash
    docker compose up -d
    ```
- To show logs do one of:
    ```bash
    docker logs build
    docker logs import
    docker logs deploy
    ```
- To stop running containers ('deploy'):
    ```bash
    docker compose stop
    ```
- To restart the 'deploy' container:
    ```bash
    docker compose start deploy
    ```
- To stop and REMOVE all containers (you need to re-run the first command afterwards), do one of:
    ```bash
    docker compose down # stops 'deploy' (if running) and remove containers
    docker compose down -v # also remove/reset volumes, but it seems to be unnecessary
    ```
- If needed, check for running and stopped containers or images
    ```bash
    docker ps -a # visualize all containers
    docker images # visualize all images
    ```
- If 'deploy' is running, neo4j is serving at http://localhost:7474/browser/

### Dependencies
- If you are using a new python package, add to poetry and rerun the docker pipeline:
    ```bash
    poetry add <package_name> # e.g 'poetry add pyarrow' for reading parquet files with pandas
    poetry install # updates lock/toml files
    ```

### Biocypher documentation
Click here to [go to Quickstart page](https://biocypher.org/BioCypher/learn/quickstart/)
Biocypher helps connecting ontology(ies) to the nodes of the graph. Click here for the [nodes default Ontology](https://biolink.github.io/biolink-model/categories.html) and for the [relationships Ontology](https://biolink.github.io/biolink-model/associations.html). The names are in 'CamelCase' but we use them in 'sentence case' in the schema config. Both nodes and edges can have properties. The following is an example of a schema configuration:
#### schema_config.yaml specifications
Here the [schema configuration reference](https://biocypher.org/BioCypher/reference/schema-config/) with all available fields (more than the ones below). An example:
```yaml
protein:                    # exact name form ontology, BUT in lower case + spaces
  represented_as: node      # 'node' or 'edge'. Even relationship can be reified as node if needed
  preferred_id: uniprot     # namespace from which the id comes from (if any).
  input_label: Protein      # exact same label you use in the adapter output (nodes yielder function)
  properties:                # represent the property dictionary optionally generated by the adapter. Any key absent in this config will be ignored from the adapter output
    mass: float             # str (or string), int (or integer, long), float (or double, dbl), bool (or boolean).
    decription: str

quaternary structure:
  is_a: macromolecular complex       # explicit subclassing. Extends the ontology by adding the child 'QuaternaryStructure' to 'MacromolecularComplex'
  represented_as: node
  input_label: QuaternaryStructure

ligand receptor interaction:                
  is_a: pairwise molecular interaction
  represented_as: edge                      # edge in the final graph. Adapter must yield source and target node ids in specific order
  input_label: LigandReceptorInteraction
  properties:                              
    species: str[]                          # can be arrays e.g str[], int[], float[], bool[], string[] etc

#=========    INHERITED NODES example
protein isoform:
  is_a: protein
  inherit_properties: true              # will have the same properties of "protein" define above
  represented_as: node
  preferred_id: uniprot
  input_label: uniprot_isoform
```

### Adapters
